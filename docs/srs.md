| ID  |   업무명    |                요약                 |                                      세부요구사항 설명                                      | 입력변수 | 정상 입력값 | 예외 입력값 | 추적성 | 우선순위 | 테스트 결과 |    우선 순위     |
|:---:|:--------:|:---------------------------------:|:-----------------------------------------------------------------------------------:|:--------:|:----------:|:----------:|:------:|:-------:|:-----------:|:------------:|
|| 지도매물 시각화 |                                   |                                                                                     |||||||      H       |
||          |  사용자의 지도 화면에 매물 위치를 아이콘으로 표시한다.   |                                                                                     |||||||      H       |
||          |                                   |                              네이버 지도 API를 이용하여 지도를 띄운다.                              |||||||      H       |
||          |                                   |                    로그인을 하지 않아 토큰이 없으면 오류 메시지를 띄우며 로그인 페이지로 이동한다.                    |||||||      H       |
||          |                                   |                              지도 호출 실패시 재시도 및 오류를 출력한다.                              |||||||      H       |
||          |                                   |                         등록된 매물의 위치 정보를 불러와 지도에 마커와 함께 표시한다                          |||||||      H       |
||          |                                   |       매물의 상태 정보 [available,pending,sold]을 기준으로 색상을 달리하며 마커의 색상을 변경한다.       |||||||      H       |
||          |                                   | 매물 클릭시 매물의 정보를 properties , property_images, property_offers table에서 받아와 각 정보를 띄운다. |||||||      H       |
||          |                                   |                       일정 시간 후 지도를 재조회 하여 새로운 정보를 받아와 지도에 띄운다.                       |||||||      H       |
||          |                                   |                         지도의 줌*팬 이벤트 발생 시 범위 재조회 및 마커 갱신한다.                          |||||||      H       |
||          |                                   |                           사용자 지정 조건 필터 적용 시 해당 매물만 표시한다.                            |||||||      H       |
||사용자 위치 표시|                                   |                                                                                     |||||||      H       |
|||          현재 사용자 위치를 표시한다          |                                                                                     |||||||      H       |
||          |                                   |사용자의 현재 위치를 받아올 수 있으면 중심을 그 위치로 옮긴다.|||||||      H       |
||          |                                   |사용자의 현재 위치를 받아오지 못하면 시청을 중심을 디폴트 값으로 지정한다.|||||||      H       |
||          |                                   |현재 gps를 받아올지 사용자에게 승인을 받는다.|||||||      H       |
||지도 매물 즐겨찾기|                                   |                                                                                     |          ||||||        H     |
||          |            즐겨찾기를 조회한다             |                                                                                     |||||||      H       |
||          |                                   |                         즐겨찾기 탭 클릭 시 저장된 즐겨찾기 목록을 조회하여 표시한다,                         |||||||      H       |
||          |                                   |                     현재 로그인된 아이디의 토큰을 받아와 그와 일치하는 즐겨찾기 매물을 표시한다.                     |||||||      H       |
||          |          조회된 매물 정보 확인한다           |                                                                                     |||||||      H       |
||          |                                   |                  즐겨찾기 목록 항목 클릭 시 지도 중심을 해당 매물 좌표로 이동하고 상세정보 창을 연다.                  |||||||      H       |
||          |            정보확인에 실패한다             ||||||||      H       |
||          |                                   |      정보 확인 실패시 실패 원인과 함께 상단에 띄운다.                                                                               |||||||      H       |
||          |             즐겨찾기 추가한다             |                                                                                     |||||||      H       |
||          |                                   |                     매물에서 하트 버튼을 클릭시 즐겨찾기 클릭시 현재 로그인된 아이디의 토큰으로 id를 받아와서 즐겨찾기에 등록한다.                                                                |||||||      H       |
||          |                                   |               즐겨찾기 등록시 즐겨찾기 하트 버튼 빨간색으로 변한뒤 favorites table에서 data를 추가한다.                                                                      |||||||      H       |
||          |             즐겨찾기 제거한다             |                                                                                     |||||||      H       |
||          |                                   |            빨같게 켜져있는 즐겨찾기 버튼을 클릭시 현재 로그인이 되어있는 아이디의 토큰을 받아와서 즐겨찾기를 해재한다.                                                                         |||||||      H       |
||          |                                   |                     즐겨찾기 해제시 즐겨찾기 하트 버튼 회색으로 변한뒤 favorites table에서 data를 지운다.                                                                |||||||      H       |
||   매물 상세 정보 표시       |                                   |                                                                                     |||||||      H       |
||          |       매물 클릭시 매물 정보표시창를 표시한다       |                                                                                     |||||||      H       |
||          |                                   |             마커 클릭시 property_id를 획득하고 api로 호출하여 세부 정보를 수신 받는다.                                                                        |||||||      H       |
||          |                                   |                                  수신 받은 정보를 사이드바에 렌더링하여 표시한다.                                                   |||||||      H       |
||          |          매물 정보 표시를 실패한다           |                                                                                     |||||||      H       |
||          |                                   |    매물 정보 표시 실패시 실패 표시와 함께 화면을 새로고침 한다.                                                                                 |||||||      H       |
||   필터       |                                   |                                                                                     |||||||      H       |
||          |            개별 필터를 지정한다            |                                                                                     |||||||      H       |
||          |                                   |                        필터를 지정시 매물 property_offers, properties의 정보를 받아와서 지도에 그의 맞는 매물 표시한다.                                                             |||||||      H       |
||          |                                   |                                                               필터 등록된 정보는 지도가 재호출 될때는 버튼 클릭을 완료시에 지정된다.                      |||||||      H       |
||          |                                   |                                                                             필터를 지정하지 않으면 모든 매물을 띄운다.        |||||||      H       |
||          |            종합 필터를 지정한다            ||||||||      H       |
||          |                                   |모든 필터를 한번에 지정후 적용 버튼을 클릭시 필터가 적용된다.|||||||      H       |
||          |            필터 지정에 실패한다            ||||||||      H       |
||          |                                   |필터 지정 실패시 오류 메시지와 함께 필터가 헤제된다.|||||||      H       |
||    유동인구 레이어 토글      |                                   ||||||||      H       |
||          |      지도에 유동인구 히트맵/그리드를 켜고 끈다      ||||||||      H       |
||          |                                   |사용자는 상단 스위치로 유동인구 레이어를 토글하며, 켤 때 현재 뷰포트·줌·필터 기준으로 서버에서 데이터를 조회하고, 끌 때 모든 관련 오버레이와 범례를 제거한다.|||||||      H       |
||   유동인구 뷰포트 조회       |                                   ||||||||      H       |
||          | 화면 경계 기반으로 셀(그리드/행정동/상권) 집계를 가져온다 ||||||||      H       |
||          |                                   |클라이언트는 dragend/zoom_changed 후 300ms 디바운스로 swLat,swLng,neLat,neLng,zoom과 필터를 전송한다|||||||      H       |
||          |                                   |서버는 줌별 해상도 규칙에 맞는 셀 레벨을 선택해 집계값과 기하를 GeoJSON 또는 MVT로 반환한다.|||||||      H       |
||          |      유동인구 시간대별 요일/기간 을 적용한다       ||||||||      H       |
||          |                                   |사용자는 시간(0–23h), 요일(주중/주말/개별), 기간(최근 7/14/30일)을 선택한다. |||||||      H       |
||          |                                   |서버는 해당 윈도의 집계 평균·최댓값·신뢰도를 계산하여 반환한다.|||||||      H       |
||          |                                   | 필터 변경 시 레이어가 즉시 재렌더링된다.|||||||      H       |
||          |     값 분포에 맞는 색상 스케일과 범례를 표시한다     ||||||||      H       |
||          |                                   |서버는 min/max와 등간·분위수 구간을 제공하고 클라이언트는 이에 맞춰 그라데이션 범례를 우하단에 렌더링하며 접근성을 위해 텍스트 수치와 단위를 함께 표기한다.|||||||      H       |
||          |        셀 클릭 시 통계 요약을 노출한다         ||||||||   H   |
||          |                                   |사용자가 셀을 클릭하면 평균 방문자수, 체류시간, 피크 시간, 주중/주말 비율, 최신 갱신시각, 표본수·신뢰도를 툴팁 또는 사이드패널로 보여준다.|||||||      H       |
||          |                                   | 필요 시 cell/{id} 상세 API로 기간 시계열을 추가 요청한다.|||||||   H   |
||          |           유동인구 데이터 갱신한다           ||||||||   H   |
||          |                                   |ETL은 00:30 KST에 원천데이터를 익명화·집계하여 foot_traffic_* 테이블에 적재하고, 최신 윈도(예: 30일 롤링)를 유지하며 메타 테이블에 런 로그를 기록한다.|||||||      H       |
||    편의시설 레이어 토글      |                                   ||||||||      H       |
||          |      뷰포트·근방의 편의시설 POI를 표시한다       ||||||||      H       |
||          |                                   |사용자가 ‘편의시설’ 스위치를 켜면 선택 카테고리에 맞는 POI를 뷰포트 또는 기준점 반경으로 요청해 마커/클러스터를 그린다. |||||||      H       |
||          |                                   |끄면 모든 마커와 패널·범례를 정리한다.|||||||      H       |
||          |                                   |피처 수가 임계(예: 1,000) 이상이면 서버 또는 프론트 클러스터링을 활성화하여 원형 카운트 뱃지를 렌더하고, 클릭 시 확대 또는 스파이더링으로 개별 마커를 펼친다.|||||||      H       |
||          |                                   |동일 장소 중복은 이름 유사도·거리(20m 이내)로 2차 병합하여 대표 하나만 응답하며, 보조 명칭은 alias로 유지한다.|||||||      H       |
||          |     카테고리별 아이콘·색·반경 기본값을 정의한다      ||||||||      H       |
||          |                                   |각 범위별 아이콘 이미지를 지정한다.|||||||      H       |
||          |                                   |시스템은 지하철/버스/마트/병원/학교 등 주요 카테고리에 표준 아이콘(고해상도)과 색상을 할당하고, 기본 검색 반경(예: 버스 800m, 지하철 1.5km)을 UI 범례로 노출한다.|||||||      H       |
||          |         편의시설 상세 패널을 표시한다          ||||||||      H       |
||          |                                   |마커 클릭 시 이름/주소/카테고리/거리/영업시간/전화/평점/리뷰수/출처·표시의무를 사이드패널로 보여주고, 길찾기·웹사이트 링크를 제공한다.|||||||      H       |
||          |         편의시설 정렬/필터를 설정한다.         ||||||||      H       |
||          |                                   |거리·평점 정렬과 다중 카테고리 필터를 지원한다|||||||      H       |
||          |                                   |사용자는 카테고리를 다중 선택하고, 정렬을 거리/평점 중 선택하며, 서버는 ST_DistanceSphere와 평점·리뷰수를 함께 고려해 안정적 순위를 반환한다.|||||||      H       |
||          |                                   |서버는 400(필드별 메시지), 404, 429(대기시간 포함), 5xx를 통일 포맷으로 반환하고, 클라이언트는 토스트와 재시도 버튼을 제공하며, 반복 실패 시 레이어를 자동 비활성화한다.|||||||      H       |


